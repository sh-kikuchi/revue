__NUXT_JSONP__("/blog/laravel/009_DBquery", (function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,_,$,aa,ab,ac,ad,ae,af,ag,ah,ai,aj,ak,al,am,an,ao,ap,aq,ar,as,at,au,av,aw,ax,ay,az){return {data:[{content:{slug:"009_DBquery",description:"DBファザード",title:"DB操作のいろいろ",category:"Laravel",createdAt:"2022-06-13T12:21:26.025Z",updatedAt:"2021-12-02T00:00:00.000Z",sortNumber:"009",toc:[{id:af,depth:G,text:ag},{id:ah,depth:G,text:ai},{id:aj,depth:G,text:ak},{id:al,depth:G,text:am},{id:an,depth:G,text:ao}],body:{type:"root",children:[{type:b,tag:N,props:{id:"1-はじめに"},children:[{type:b,tag:o,props:{href:"#1-%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB",ariaHidden:q,tabIndex:r},children:[{type:b,tag:c,props:{className:[s,t]},children:[]}]},{type:a,value:"1. はじめに"}]},{type:a,value:g},{type:b,tag:H,props:{},children:[{type:a,value:"LaravelのDB操作もやり方は色々ある。これまではEloquentでCRUDをやっていたが、より生のSQLに近い書き方も出来る。ので、その方法のまとめ。"}]},{type:a,value:g},{type:b,tag:u,props:{},children:[]},{type:a,value:g},{type:b,tag:N,props:{id:"2-dbクラス共通の記述"},children:[{type:b,tag:o,props:{href:"#2-db%E3%82%AF%E3%83%A9%E3%82%B9%E5%85%B1%E9%80%9A%E3%81%AE%E8%A8%98%E8%BF%B0",ariaHidden:q,tabIndex:r},children:[{type:b,tag:c,props:{className:[s,t]},children:[]}]},{type:a,value:"2. DBクラス共通の記述"}]},{type:a,value:g},{type:b,tag:H,props:{},children:[{type:a,value:"DBクラスでもクエリビルダでもDBファサードによる記述のため"},{type:b,tag:z,props:{},children:[{type:a,value:"Illuminate\\Support\\Facades\\DB"}]},{type:a,value:"をuseします。"}]},{type:a,value:g},{type:b,tag:B,props:{className:[C]},children:[{type:b,tag:D,props:{className:[E,I]},children:[{type:b,tag:z,props:{},children:[{type:b,tag:c,props:{className:[d,A]},children:[{type:a,value:"use"}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,"package"]},children:[{type:a,value:"Illuminate"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:X}]},{type:a,value:"Support"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:X}]},{type:a,value:"Facades"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:X}]},{type:a,value:J}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:v}]},{type:a,value:g}]}]}]},{type:a,value:g},{type:b,tag:u,props:{},children:[]},{type:a,value:g},{type:b,tag:N,props:{id:"3-dbクラスによる操作クエリビルダ"},children:[{type:b,tag:o,props:{href:"#3-db%E3%82%AF%E3%83%A9%E3%82%B9%E3%81%AB%E3%82%88%E3%82%8B%E6%93%8D%E4%BD%9C%E3%82%AF%E3%82%A8%E3%83%AA%E3%83%93%E3%83%AB%E3%83%80",ariaHidden:q,tabIndex:r},children:[{type:b,tag:c,props:{className:[s,t]},children:[]}]},{type:a,value:"3. DBクラスによる操作(クエリビルダ)"}]},{type:a,value:g},{type:b,tag:H,props:{},children:[{type:b,tag:z,props:{},children:[{type:a,value:"DB::SQL値(SQL文、パラメータ配列)"}]},{type:a,value:"で記述する方法を使う。SQL文をそのまま使用するイメージなので、SQL学習者であれば、こちらの方が取っつきやすい。"}]},{type:a,value:g},{type:b,tag:u,props:{},children:[]},{type:a,value:g},{type:b,tag:K,props:{id:af},children:[{type:b,tag:o,props:{href:"#-select",ariaHidden:q,tabIndex:r},children:[{type:b,tag:c,props:{className:[s,t]},children:[]}]},{type:a,value:ag}]},{type:a,value:g},{type:b,tag:B,props:{className:[C]},children:[{type:b,tag:D,props:{className:[E,I]},children:[{type:b,tag:z,props:{},children:[{type:b,tag:c,props:{className:[d,A]},children:[{type:a,value:Y}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,A]},children:[{type:a,value:l}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,Z,l]},children:[{type:a,value:ap}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,_,$]},children:[{type:a,value:aa}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:p}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:ab}]},{type:a,value:L},{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:aq}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:O}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,P]},children:[{type:a,value:J},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:Q}]}]},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:ap}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,j,k]},children:[{type:a,value:"'SELECT * from users'"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:v}]},{type:a,value:L},{type:b,tag:c,props:{className:[d,A]},children:[{type:a,value:"return"}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:"view"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,j,k]},children:[{type:a,value:"'sample.index'"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:w}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:R}]},{type:b,tag:c,props:{className:[d,j,k]},children:[{type:a,value:"'items'"}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:x}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:aq}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:S}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:v}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:ac}]},{type:a,value:g}]}]}]},{type:a,value:g},{type:b,tag:u,props:{},children:[]},{type:a,value:g},{type:b,tag:K,props:{id:ah},children:[{type:b,tag:o,props:{href:"#-select%E6%9D%A1%E4%BB%B6%E4%BB%98%E3%81%8D",ariaHidden:q,tabIndex:r},children:[{type:b,tag:c,props:{className:[s,t]},children:[]}]},{type:a,value:ai}]},{type:a,value:g},{type:b,tag:B,props:{className:[C]},children:[{type:b,tag:D,props:{className:[E,"language-text"]},children:[{type:b,tag:z,props:{},children:[{type:a,value:"public function select(Request $request) {\n $items = DB::select('SELECT * from users where id =:id', ['id'=\u003E$request-\u003Eid]);\n return view('sample.index',['items' =\u003E $items[0]]);\n}\n"}]}]}]},{type:a,value:g},{type:b,tag:u,props:{},children:[]},{type:a,value:g},{type:b,tag:K,props:{id:aj},children:[{type:b,tag:o,props:{href:"#-create",ariaHidden:q,tabIndex:r},children:[{type:b,tag:c,props:{className:[s,t]},children:[]}]},{type:a,value:ak}]},{type:a,value:g},{type:b,tag:B,props:{className:[C]},children:[{type:b,tag:D,props:{className:[E,I]},children:[{type:b,tag:z,props:{},children:[{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:F}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:O}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:R}]},{type:a,value:T},{type:b,tag:c,props:{className:[d,j,k]},children:[{type:a,value:U}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:x}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:p}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:y}]},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:V}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,j,k]},children:[{type:a,value:U}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:w}]},{type:a,value:T},{type:b,tag:c,props:{className:[d,j,k]},children:[{type:a,value:ad}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:x}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:p}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:y}]},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:V}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,j,k]},children:[{type:a,value:ad}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:w}]},{type:a,value:T},{type:b,tag:c,props:{className:[d,j,k]},children:[{type:a,value:ar}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:x}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:p}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:y}]},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:V}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,j,k]},children:[{type:a,value:ar}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:w}]},{type:a,value:T},{type:b,tag:c,props:{className:[d,j,k]},children:[{type:a,value:ae}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:x}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:p}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:y}]},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:V}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,j,k]},children:[{type:a,value:ae}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:w}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:S}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:v}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,P]},children:[{type:a,value:J},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:Q}]}]},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:"table"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,j,k]},children:[{type:a,value:"'users'"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:y}]},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:"insert"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:F}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:v}]},{type:a,value:g}]}]}]},{type:a,value:g},{type:b,tag:u,props:{},children:[]},{type:a,value:g},{type:b,tag:K,props:{id:al},children:[{type:b,tag:o,props:{href:"#-update",ariaHidden:q,tabIndex:r},children:[{type:b,tag:c,props:{className:[s,t]},children:[]}]},{type:a,value:am}]},{type:a,value:g},{type:b,tag:B,props:{className:[C]},children:[{type:b,tag:D,props:{className:[E,I]},children:[{type:b,tag:z,props:{},children:[{type:b,tag:c,props:{className:[d,A]},children:[{type:a,value:Y}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,A]},children:[{type:a,value:l}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,Z,l]},children:[{type:a,value:as}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,_,$]},children:[{type:a,value:aa}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:p}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:ab}]},{type:a,value:L},{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:F}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:O}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:R}]},{type:a,value:M},{type:b,tag:c,props:{className:[d,j,k]},children:[{type:a,value:U}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:x}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:p}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:y}]},{type:b,tag:c,props:{className:[d,W]},children:[{type:a,value:at}]},{type:a,value:M},{type:b,tag:c,props:{className:[d,j,k]},children:[{type:a,value:ad}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:x}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:p}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:y}]},{type:b,tag:c,props:{className:[d,W]},children:[{type:a,value:"name"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:w}]},{type:a,value:M},{type:b,tag:c,props:{className:[d,j,k]},children:[{type:a,value:ae}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:x}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:p}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:y}]},{type:b,tag:c,props:{className:[d,W]},children:[{type:a,value:"age"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:w}]},{type:a,value:L},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:S}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:v}]},{type:a,value:L},{type:b,tag:c,props:{className:[d,P]},children:[{type:a,value:J},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:Q}]}]},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:as}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,j,k]},children:[{type:a,value:"'UPDATE users set name=:name, email=:email where id=:id'"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:w}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:F}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:v}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:ac}]},{type:a,value:g}]}]}]},{type:a,value:g},{type:b,tag:u,props:{},children:[]},{type:a,value:g},{type:b,tag:K,props:{id:an},children:[{type:b,tag:o,props:{href:"#-delete",ariaHidden:q,tabIndex:r},children:[{type:b,tag:c,props:{className:[s,t]},children:[]}]},{type:a,value:ao}]},{type:a,value:g},{type:b,tag:B,props:{className:[C]},children:[{type:b,tag:D,props:{className:[E,I]},children:[{type:b,tag:z,props:{},children:[{type:b,tag:c,props:{className:[d,A]},children:[{type:a,value:Y}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,A]},children:[{type:a,value:l}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,Z,l]},children:[{type:a,value:"dalete"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,_,$]},children:[{type:a,value:aa}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:p}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:ab}]},{type:a,value:M},{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:F}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:O}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:R}]},{type:b,tag:c,props:{className:[d,j,k]},children:[{type:a,value:U}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:x}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:p}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:y}]},{type:b,tag:c,props:{className:[d,W]},children:[{type:a,value:at}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:S}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:v}]},{type:a,value:M},{type:b,tag:c,props:{className:[d,P]},children:[{type:a,value:J},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:Q}]}]},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:"delete"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,j,k]},children:[{type:a,value:"'DELETE from sample where id =:id'"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:w}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,i]},children:[{type:a,value:F}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:v}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:ac}]},{type:a,value:"\n\n"}]}]}]},{type:a,value:g},{type:b,tag:u,props:{},children:[]},{type:a,value:g},{type:b,tag:N,props:{id:"4-おわりに"},children:[{type:b,tag:o,props:{href:"#4-%E3%81%8A%E3%82%8F%E3%82%8A%E3%81%AB",ariaHidden:q,tabIndex:r},children:[{type:b,tag:c,props:{className:[s,t]},children:[]}]},{type:a,value:"4. おわりに"}]},{type:a,value:g},{type:b,tag:H,props:{},children:[{type:a,value:"自分がアプリを作る時には使わないが、一応、Laravelユーザーのたしなみとして少しまとめておいた。参考は下記のもの。Laravel6だけど、9でもきっと大丈夫。"}]},{type:a,value:g},{type:b,tag:u,props:{},children:[]},{type:a,value:g},{type:b,tag:H,props:{},children:[{type:a,value:"[データベース：利用開始]\r\n("},{type:b,tag:o,props:{href:au,rel:[av,aw,ax],target:ay},children:[{type:a,value:au}]},{type:a,value:")\r\n[データベース：クリエビルダ]\r\n("},{type:b,tag:o,props:{href:az,rel:[av,aw,ax],target:ay},children:[{type:a,value:az}]},{type:a,value:m}]}]},dir:"\u002Fblog\u002Flaravel",path:"\u002Fblog\u002Flaravel\u002F009_DBquery",extension:".md"},navigation:"blog\u002Flaravel",dirParam:"laravel"}],fetch:{},mutations:[]}}("text","element","span","token","punctuation"," ","\n","operator","variable","string","single-quoted-string","function",")","(","a","$request","true",-1,"icon","icon-link","br",";",",","=\u003E","-\u003E","code","keyword","div","nuxt-content-highlight","pre","line-numbers","$param",3,"p","language-php","DB","h3","\n ","\n  ","h1","=","scope","::","[","]","\n    ","'id'","input","property","\\","public","function-definition","class-name","type-declaration","Request","{","}","'name'","'age'","-select","■ SELECT","-select条件付き","■ SELECT(条件付き)","-create","■ CREATE","-update","■ UPDATE","-delete","■ DELETE","select","$items","'email'","update","id","https:\u002F\u002Freadouble.com\u002Flaravel\u002F6.x\u002Fja\u002Fdatabase.html","nofollow","noopener","noreferrer","_blank","https:\u002F\u002Freadouble.com\u002Flaravel\u002F6.x\u002Fja\u002Fqueries.html")));